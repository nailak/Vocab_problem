<!DOCTYPE html>
<html lang="en">
<head id='head'>
    <meta charset="utf-8">
    <meta http-equiv="Access-Control-Allow-Origin" content="*">
	<!-- <LINK REL=StyleSheet HREF="TheCSS.css" TYPE="text/css"> -->
    <title>Vocabulary Prob</title>
    <style type="text/css">
    h1,h2,h3,p{font-family: sans-serif;}
    h3{font-size: 20px}
    p{font-size: 15px}
    </style>
   <!--  // <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
    // <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.23/jquery-ui.min.js"></script>
    --> 
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>

    <!-- // <script type="text/javascript" src=".js"></script> -->
    <!-- <link rel="stylesheet" href="stylesheets/base.css"> -->
    <script type="text/javascript">

	
    $(document).ready(function(){
        // var TimesTagsAPIkey='a8db8012217ff6a0cf8a4ab616210b50:12:66738105';
        var TimesSearchAPIkey='f6fcb7d8529cc6f75a5686e2496a3348:3:66738105';
        // var NYT_API='http://api.nytimes.com/svc/search/v1/article';
        var articlesSearch= {};

        //sample get articles - must inspect in console 
        // $.getJSON('http://api.nytimes.com/svc/search/v1/article?query=lakes%20ice%20org_facet:[ENVIRONMENTAL%20PROTECTION%20AGENCY]&rank=closest&api-key=f6fcb7d8529cc6f75a5686e2496a3348:3:66738105')
        
        //=============================TRY using proxy
        NYTsearch=$.getJSON('http://people.ischool.berkeley.edu/~nkhalawi/NYTproxy.php?callback=?', 
            function(json){ 
                // console.log(json.xml);
                articlesObj=$.parseJSON(json.xml);
                articles=articlesObj.results;
                console.log(articles)
                
                for(var i in articles){
                    // console.log(articles[i].title)
                    $('#articlesSearch').append('<h3><a href="'+articles[i].url +'" class="article">' + articles[i].title + '</a></h3>');

                    $('#articlesSearch').append('<p> By: ' + articles[i].byline + ', Date:'+articles[i].date+'</p>');
                    // console.log(articles[i].body)
                    $('#articlesSearch').append('<p>' + articles[i].body + '</p>');
                    }
            });
        
        });

    </script>
</head>

<body id="WholePageContent">
    <div class="container">
      Query results are: 

      <div id='articlesSearch'></div>
	</div>
	
		
</body>
</html>